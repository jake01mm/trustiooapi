# ==============================================
# Trusioo API 环境配置模板
# ==============================================
# 复制此文件为 .env 并填入实际配置值

# ==============================================
# 服务器配置
# ==============================================
PORT=8080
ENV=development

# ==============================================
# 数据库配置 (PostgreSQL)
# ==============================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_NAME=trusioo_db

# 数据库连接池配置
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=300

# ==============================================
# JWT 配置
# ==============================================
# 重要：生产环境必须更改为强随机密钥！
JWT_SECRET=change-this-to-a-secure-secret-key-in-production
JWT_REFRESH_SECRET=change-this-to-a-secure-refresh-key-in-production
JWT_ACCESS_EXPIRE=7200
JWT_REFRESH_EXPIRE=604800

# ==============================================
# CORS 配置
# ==============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_ALL=false

# ==============================================
# 前端应用配置
# ==============================================
FRONTEND_APP_URL=http://localhost:3000
FRONTEND_ADMIN_URL=http://localhost:3001

# ==============================================
# 安全配置
# ==============================================
# HTTPS 配置（生产环境推荐启用）
FORCE_HTTPS=false
TLS_CERT_FILE=
TLS_KEY_FILE=

# 安全头配置
ENABLE_SECURE_HEADERS=true

# 信任的代理（如果在反向代理后面）
TRUSTED_PROXIES=

# ==============================================
# 速率限制配置
# ==============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
AUTH_RATE_LIMIT_REQUESTS=10
AUTH_RATE_LIMIT_WINDOW=60

# ==============================================
# 请求配置
# ==============================================
REQUEST_TIMEOUT=30
MAX_REQUEST_SIZE=10485760
ENABLE_REQUEST_ID=true

# ==============================================
# 第三方服务配置
# ==============================================

# 银行卡检测服务配置
CARD_DETECTION_ENABLED=false
CARD_DETECTION_HOST=
CARD_DETECTION_APP_ID=
CARD_DETECTION_APP_SECRET=
CARD_DETECTION_TIMEOUT=30

# IP信息服务配置（ipinfo.io）
IPINFO_TOKEN=

# ==============================================
# 邮件服务配置（可选）
# ==============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@yourdomain.com

# ==============================================
# Redis 配置（可选，用于缓存和会话）
# ==============================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ==============================================
# 日志配置
# ==============================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=console,file

# ==============================================
# 监控配置（可选）
# ==============================================
# METRICS_ENABLED=true
# METRICS_PORT=9090

# ==============================================
# 开发环境特殊配置
# ==============================================
# 开发环境下是否显示详细错误信息
DEBUG=false

# 是否启用 Swagger 文档（仅开发环境）
ENABLE_SWAGGER=false

# ==============================================
# 生产环境注意事项
# ==============================================
# 1. 必须更改 JWT_SECRET 和 JWT_REFRESH_SECRET 为强随机值
# 2. 设置 ENV=production
# 3. 启用 FORCE_HTTPS=true
# 4. 配置适当的 CORS_ORIGINS
# 5. 设置合理的 RATE_LIMIT 值
# 6. 配置 TLS 证书路径
# 7. 设置安全的数据库密码
# 8. 配置监控和日志收集